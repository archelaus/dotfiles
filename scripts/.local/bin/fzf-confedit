#!/usr/bin/env bash

source $HOME/.config/dmscripts/config

declare -A _clean_list
for i in "${!confedit_list[@]}"; do
  [[ -f ${confedit_list[$i]} ]] && _clean_list[$i]=${confedit_list[$i]}
done

files=(
"${_clean_list[@]}"
~/.config/rofi/scripts/*
~/.config/shell/*
~/.config/tmux/*
~/.config/x11/*
~/.local/bin/,*
~/.local/bin/cmus-*
~/.local/bin/fzf-*
~/.local/bin/tmux-*
~/.notes/*.md
)

printf '%s\n' "${files[@]}" |
  fzf --height 100% --header="fzf-confedit" --header-first \
  --preview="bat --color always {}" \
  --bind="enter:execute(vim {})+abort"
  # --bind="enter:execute($DMEDITOR {} &)+abort"

exit 0
