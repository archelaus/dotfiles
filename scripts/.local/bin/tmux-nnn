#!/usr/bin/env bash

# if ! tmux has-session -t nnn; then
#   tmux new-session -d -s nnn
#   tmux send-keys -t nnn " tmux set status off" C-m
#   tmux send-keys -t nnn " nnn -a -P p; tmux kill-session -t nnn" C-m
#   tmux attach-session -t nnn
# fi

tmuxs() {
  $TERMINAL --class fm -e tmux $*;
}

declare -A sessions=()
for name in $(tmux ls -F "#{session_name}"); do
  sessions["$name"]="$name"
done

session_name="files"
if ! [[ -v sessions["$session_name"] ]]; then
  tmuxs new-session -s "$session_name" "nnn -a -P p"\; set -t "$session_name" status off
fi
